# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание базовых классов и компонентов, их предназначение и функции

1. BaseView<T, S> - Базовый класс для всех представлений (View).

Функции:
- Предоставляет общие методы для работы с DOM-элементами (ensure, setValue, setVisibility и др.).
- Реализует кеширование элементов для оптимизации поиска в DOM.
- Поддерживает копирование экземпляров через метод copy().
- Обеспечивает жизненный цикл (init, render).

Связи:
Является родительским классом для всех остальных View-компонентов (HeaderView, ModalView, ProductView и др.).

2. HeaderView - Представление заголовка страницы.

Функции:
- Отображает заголовок (title), описание (description) и кнопку действия (action).
- Обрабатывает клик по кнопке, вызывая переданный колбэк onClick.

Связи:
Использует BaseView для базовой логики.
Может взаимодействовать с другими компонентами через события (например, открытие модального окна при клике).

3. ModalView<H, C> - Модальное окно с заголовком и контентом.

Функции:
- Управляет открытием/закрытием модального окна (статическое поле _openedModal гарантирует, что одновременно открыто только одно окно).
- Поддерживает заголовок (header), контент (content), сообщения (message) и кнопки в подвале (footer).
- Обрабатывает клики по оверлею и кнопке закрытия.

Связи:
Может отображать произвольные компоненты через headerView и contentView (например, ProductView или ListView).
Использует BaseView для базовой логики рендеринга.

4. ListView<T> - Список элементов с поддержкой выбора.

Функции:
- Динамически рендерит список элементов (например, товаров или карточек).
- Позволяет отмечать активный элемент через setActiveElement или setActiveItem.
- Кеширует элементы для оптимизации (_elements).

Связи:
Использует шаблон item из настроек для рендеринга каждого элемента (например, ProductView).
Наследует BaseView.

5. ProductView - Карточка товара.

Функции:
- Отображает изображение (image), название (title), категорию (category), описание (description) и цену (price).
- Поддерживает компактный режим (isCompact).

Связи:
Может использоваться внутри ListView или ModalView.
Наследует BaseView.

6. ButtonView<T> - Кнопка с обработчиком клика.

Функции:
- Отображает текст (label).
- Вызывает колбэк onClick при клике.
- Поддерживает фабричный метод make для быстрого создания.

Связи:
Используется в других компонентах (например, в HeaderView для действия или в ModalView для кнопок подвала).
Наследует BaseView.

7. PaymentView, ContactsView, SuccessView, BasketRowView
Специализированные представления.

Функции:
- PaymentView: Отображает способ оплаты (paymentType) и адрес доставки (address).
- ContactsView: Показывает контактные данные (mail, phone).
- SuccessView: Выводит сообщение об успешном заказе с итоговой ценой (totalPrice).
- BasketRowView: Элемент корзины с названием товара (productTitle) и ценой (productPrice).

Связи:
Могут использоваться в ModalView или других контейнерах.
Наследуют BaseView.


Пример взаимодействия:

HeaderView содержит ButtonView, которая открывает ModalView с ProductView внутри.

ListView рендерит список ProductView, а при клике передает данные в ModalView.